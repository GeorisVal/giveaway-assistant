import{R as n,j as C,a as t,b as s}from"./app-c3831edb.js";import{h as v}from"./moment-fbc5633a.js";import{Q as E}from"./react-toastify.esm-e71df230.js";const Q=e=>{const w=a=>E("Copied "+a+" to clipboard"),[c,f]=n.useState({status:e.status}),[o,m]=n.useState({currencies:e.currencies}),[D,d]=n.useState(!1),[u,k]=n.useState({note:e.notes}),[r,h]=n.useState({items:e.items}),[y,i]=n.useState(!1),[b,S]=n.useState(0),I=()=>{switch(e.shoutout){case"Yes - Shout out my Nookazon account":return"Yes - Nookazon";case"Yes - Shout out my Discord account":return"Yes - Discord";case"No - I would like to remain anonymous":return"No";default:return"Something went wrong"}},Y=()=>{switch(c.status){case"Pending pick up":return"bg-cream-550 border-[#f9fafb]";case"Did Not Respond":return"bg-red-575 border-[#f9fafb]";case"Queued for Programs":return"bg-purple-550 border-[#f9fafb]";case"Queued for Website":return"bg-lightgreen-550 border-[#f9fafb]";case"Queued for Discord":return"bg-discord-550 border-[#f9fafb]";case"Donator Contacted":return"bg-yellow-550 border-[#f9fafb]";case"Items Collected":return"bg-orange-550 border-[#f9fafb]";case"Invalid":return"bg-red-575 border-[#f9fafb]";case"Cancelled":return"bg-red-575 border-[#f9fafb]";case"Completed":return"bg-gris-550 border-[#f9fafb]";default:return"bg-white border-[#f9fafb]"}},p=v(new Date).format("YYYY-MM-DD"),g=a=>{a.preventDefault(),i(!1),h({items:r}),s.put("/api/donations/"+e.id,{items:r})},x=a=>{d(!1),a.preventDefault(),m({currencies:o}),s.put("/api/donations/"+e.id,{currencies:o})},_=a=>{f({...c,[a.target.name]:a.target.value}),s.put("/api/donations/"+e.id,{status:a.target.value}).then(l=>{})},N=a=>{a.preventDefault(),s.put("/api/donations/"+e.id,{notes:u}).then(l=>{console.log(l)})};async function z(){await navigator.clipboard.writeText(e.discord_id),await w(e.discord_username+"'s ID ")}const P=a=>{f({...c,[a.target.name]:a.target.value}),s.put("/api/donations/"+e.id,{schedule_date:a.target.value}).then(l=>{console.log(l)})};return C("tr",{className:b?"bg-[#fffbab] border-b leading-tight":"bg-white border-b leading-tight",children:[t("td",{className:"pl-6 sticky z-10 bg-white left-0",children:t("input",{type:"checkbox",tabIndex:"-1",id:"checkbox"+e.id,onChange:a=>S(!b),disabled:!e.canEdit})}),t("td",{className:"pr-6 truncate z-10 bg-white sticky left-[3rem] ...",children:v(e.timestamp).format("DD-MM-YYYY")}),t("td",{className:"sticky z-10 left-[9.5rem]",children:t("form",{id:"form"+e.id,children:C("select",{name:"status",tabIndex:"-1",id:"status"+e.id,value:c.status,defaultValue:e.status,className:Y()+" py-1 ml-[-2px] truncate ...",onChange:_,disabled:!e.canEdit,children:[t("option",{value:"Invalid",children:"Invalid"}),t("option",{value:"Did Not Respond",children:"DNR"}),t("option",{value:"Donator Contacted",children:"Contacted"}),t("option",{value:"Pending pick up",children:"Pending Pickup"}),t("option",{value:"Items Collected",children:"Collected"}),t("option",{value:"Queued for Website",children:"Scheduled Web"}),t("option",{value:"Queued for Discord",children:"Scheduled Discord"}),t("option",{value:"Queued for Programs",children:"Scheduled Programs"}),t("option",{value:"Completed",children:"Completed"}),t("option",{value:"Cancelled",children:"Cancelled"}),t("option",{value:""})]})})}),t("td",{className:"pl-6 truncate ...",children:t("form",{id:"note"+e.id,onSubmit:e.notes===u.note?()=>console.log("If you see this, you are too curious."):N,className:"flex flex-row",children:t("input",{type:"text",defaultValue:e.notes,className:"leading-3 p-1 border-[#f9fafb]",onChange:a=>k(a.target.value),onBlur:e.notes===u.note?()=>console.log("If you see this, you are too curious."):N,disabled:!e.canEdit})})}),t("td",{className:"px-6 truncate ...",children:e.platform=="Nookazon Programs (i.e. Streams, Contests, etc.)"?"Nookazon Programs":e.platform}),t("td",{className:"px-6 text-center truncate ...",children:I()}),t("td",{className:"px-6 truncate ...",children:e.contact_method}),t("td",{className:"px-6 truncate max-w-[215px] hover:max-w-[5000px] ...",children:e.discord_username}),t("td",{className:"px-6 truncate max-w-[215px] hover:max-w-[5000px] hover:cursor-pointer ...",onClick:z,children:e.discord_id}),t("td",{className:"px-6 truncate ...",children:t("a",{href:e.nookazon_link,tabIndex:"-1",children:e.nookazon_username})}),t("td",{className:"px-6 max-w-[250px] hover:max-w-[5000px] truncate ...",children:t("form",{id:"currencies"+e.id,onSubmit:e.currencies===o.currencies?()=>d(!1):x,className:"flex flex-row",children:D?t("input",{type:"text",autoFocus:!0,defaultValue:o.currencies,className:"leading-3 p-1 border-[#f9fafb]",onChange:a=>m(a.target.value),onBlur:e.currencies===o.currencies?()=>d(!1):x}):t("p",{className:"cursor-pointer",onClick:()=>d(!0),children:o.currencies})})}),t("td",{className:"px-6 max-w-[250px] hover:max-w-[5000px] truncate ...",children:t("form",{id:"items"+e.id,onSubmit:e.items===r.items?()=>i(!1):g,className:"flex flex-row",children:y?t("input",{type:"text",autoFocus:!0,defaultValue:r.items,className:"leading-3 p-1 border-[#f9fafb] w-auto",onChange:a=>h(a.target.value),onBlur:e.items===r.items?()=>i(!1):g}):t("p",{className:"cursor-pointer",onClick:()=>i(!0),children:r.items})})}),t("td",{className:"px-6 truncate ...",children:t("input",{type:"date",min:p,tabIndex:"-1",className:e.schedule_date?"border-[#f9fafb] py-1":"text-red-500 border-[#FED3CD] py-1",defaultValue:e.schedule_date,onChange:P,disabled:!e.canEdit})})]})},j=Q;export{j as D};
