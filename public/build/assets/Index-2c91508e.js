import{r as c,j as n,a as e,b as W,F as le,n as ie,d as de}from"./app-2c9fa46c.js";import{h as y}from"./moment-fbc5633a.js";import{k as ce,Q as ue}from"./react-toastify.esm-0f5c6163.js";/* empty css                      */import{F as g}from"./dialog-af54bdab.js";import{t as h}from"./transition-f6cceea0.js";import{N as me}from"./NavLink-d2a1c992.js";import{R as he}from"./Responsive-efd411d9.js";import{S as ge}from"./SecondaryButton-16af6198.js";/* empty css            */import"./PrimaryButton-c09b8269.js";const be=l=>{const x=l.isNext;c.useState("");const b=t=>ue("Copied "+t+" to clipboard"),[a,N]=c.useState(x?new Date(Date.now()+28*24*60*60*1e3):new Date),[m,v]=c.useState({day:null,month:null,year:null}),[O,p]=c.useState(!1),[P,w]=c.useState(!1),[_,G]=c.useState(!1),[L,A]=c.useState(),[s,B]=c.useState({title:"title",imglink:"",description:"",status:"",shoutout:"",items:"",scheduled_date:"",discord_username:"",discord_id:"",nookazon_username:"",nookazon_link:"",formatted_shoutout:"",currencies:""});function Q(t,i,r,u,o){switch(t){case"Yes - Shout out my Nookazon account":return i+" ("+r+")";case"Yes - Shout out my Discord account":return u+" (<@"+o+">)";default:return"Anonymous Donor"}}function U(t){switch(t){case"Nookazon Discord":return"bg-[#d7ddf5]";case"Nookazon Website":return"bg-[#d8f2df]";case"Nookazon Programs (i.e. Streams, Contests, etc.)":return"bg-[#fbecdd]"}}function k(t){return t.toString().includes("Discord")}async function q(){await navigator.clipboard.writeText(s.formatted_shoutout),await b("shoutout")}async function E(){await navigator.clipboard.writeText(s.items),await b("items")}async function J(){await navigator.clipboard.writeText(s.currencies),await b("NMT/Bells")}async function R(){await navigator.clipboard.writeText("Shout out to "+s.formatted_shoutout+` for sponsoring this giveaway! 

 Winner will be contacted by <@339868596589035527> once rolled! 

 <@&709538031459237968> By entering our giveaway, you are agreeing to the giveaway terms found here: https://bit.ly/NookazonSweepstakes 

 To be notified (or stop receiving notifications) of future giveaways head on over to <#698965706254974987> and press the üìÜ! 

 > *üéÅ Interested in sponsoring a giveaway? Please fill out the form linked in <#698965706254974987>*`),await b("Discord copypasta")}function K(t,i){if(l.auth.user!=null){const r={day:i,month:a.getMonth()+1,year:a.getFullYear()},u=y([r.day,r.month,r.year],"DD-MM-YYYY").format("YYYY-MM-DD");v(u);const o=F.filter(function(d){return d.schedule_date==u});if(o.length===0)return;w(!0);let C=[],Y=[],z=[],T=[],j=[],H=[],$=[],V=[],se=[];Object.keys(o).forEach(d=>{C.push(o[d].items),Y.push(o[d].shoutout),z.push(o[d].currencies),T.push(o[d].discord_username),j.push(o[d].discord_id),H.push(o[d].nookazon_username),$.push(o[d].nookazon_link),V.push(Q(o[d].shoutout,o[d].nookazon_username,o[d].nookazon_link,o[d].discord_username,o[d].discord_id)),se.push(o[d].status)}),B({scheduled_date:o[0].schedule_date,title:o[0].title,imglink:o[0].img_link,shoutout:Y,description:o[0].description,items:C.join(", "),discord_username:T,discord_id:j,nookazon_username:H,nookazon_link:$,currencies:z.join(", "),formatted_shoutout:V.join(" and "),status:o[0].status})}else t.ctrlKey?(v({day:i,month:a.getMonth()+1,year:a.getFullYear()}),console.log(m),p(!0)):(v({day:i,month:a.getMonth()+1,year:a.getFullYear()}),console.log(m),p(!0))}function D(t){G(!_),A(t)}const[M,X]=c.useState(l.appointments),F=l.donations,Z=()=>{N(new Date(a.setMonth(a.getMonth()+1)))},ee=()=>{N(new Date(a.setMonth(a.getMonth()-1)))},te=()=>new Date(a.getFullYear(),a.getMonth()+1,0).getDate(),S=[];for(let t=1;t<=te();t++)S.push(t);const ae=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],f=["January","February","March","April","May","June","July","August","September","October","November","December"],ne=f[a.getMonth()];ae[a.getDay()],f[a.getMonth()-1]?f[a.getMonth()-1]:f[a.getMonth()+11];function re(t){t.preventDefault();const i={title:t.target.giveaway_title.value,img_link:t.target.giveaway_img_link.value,description:t.target.giveaway_description.value,schedule_date:t.target.giveaway_scheduled_date.value,status:t.target.giveaway_status.value==="Scheduled"?s.status:t.target.giveaway_status.value};console.log(i.status),W.put("/api/calendar/details/"+m,i).then(r=>{console.log(r)}),w(!1)}function oe(t){t.preventDefault();const i={nookazon_username:t.target.nookazon_username.value,discord_username:t.target.discord_username.value,appointment_date:y([m.day,m.month,m.year],"DD-MM-YYYY").format("YYYY-MM-DD"),appointment_time:t.target.appointment_time.value,contact_method:t.target.contact_method.value,email:t.target.email.value,appointment_type:"donor"};W.post("/api/appointments",i).then(r=>{X(r.data[0])}),p(!1),location.href="/thanks"}return n("div",{className:"mx-auto max-w-7xl mb-5 bg-gray-100",children:[e("div",{className:"flex justify-evenly w-full my-4",children:n("div",{className:"flex flex-row gap-4",children:[e("button",{className:"bg-sapin-500 text-lightgreen-500 rounded-lg w-24 py-2 hover:bg-lightgreen-500 hover:text-sapin-500",onClick:ee,children:"Previous"}),n("h1",{className:"text-sapin-500 p-2 font-bold",children:[ne," ",a.getFullYear()]}),e("button",{className:"bg-sapin-500 text-lightgreen-500 rounded-lg w-24 py-2 hover:bg-lightgreen-500 hover:text-sapin-500",onClick:Z,children:"Next"})]})}),e("table",{className:"grid grid-cols-3 gap-2 sm:grid-cols-5 lg:grid-cols-7",children:S.map((t,i)=>n("td",{className:(t===new Date().getDate()&&a.getMonth()===new Date().getMonth()&&a.getFullYear()===new Date().getFullYear()?"border-red-500":"border-sapin-500")+" relative w-full h-32 border-2 cursor-pointer rounded-lg mx-auto bg-white",defaultValue:t,onMouseEnter:()=>{D(i)},onMouseLeave:()=>{D(i)},onClick:r=>{K(r,t)},children:[l.auth.user!=null&&F.map((r,u)=>{if(r.schedule_date===`${a.getFullYear()}-${a.getMonth().toString().length==1?"0"+(a.getMonth()+1):a.getMonth()}-${t.toString().length==1?"0"+t:t}`)return e("div",{className:U(r.platform)+" rounded-lg h-[99%] w-[99%] absolute"},u)}),l.auth.user!=null&&M.map((r,u)=>{if(r.appointment_date===`${a.getFullYear()}-${a.getMonth().toString().length==1?"0"+(a.getMonth()+1):a.getMonth()}-${t.toString().length==1?"0"+t:t}`)return n("div",{className:"absolute mt-2 ml-3 flex flex-row",children:[e("div",{className:r.appointment_type=="donor"?"bg-donatorblue-500 rounded-full w-3 h-3":"hidden"}),e("div",{className:r.appointment_type=="winner"?"bg-recevorgreen-500 rounded-full w-3 h-3 ml-3":"hidden"})]},u)}),n("div",{className:"flex absolute top-0.5 right-0 gap-2 items-center justify-end mr-5",children:[e("h4",{className:"text-lg font-semibold text-sapin-500",children:new Date(a.getFullYear(),a.getMonth(),t).toLocaleString("en-us",{weekday:"long"}).slice(0,3)}),e("h1",{className:"text-lg font-semibold text-gray-500",children:t})]}),e("hr",{className:(t===new Date().getDate()&&a.getMonth()===new Date().getMonth()&&a.getFullYear()===new Date().getFullYear()?"border-lightgreen-500":"border-sapin-500")+" border-1 absolute top-7 left-0 right-0 w-4/5 mx-auto"}),l.auth.user!=null&&_==!0&&L==i&&M.map((r,u)=>{if(r.appointment_date===`${a.getFullYear()}-${a.getMonth().toString().length==1?"0"+(a.getMonth()+1):a.getMonth()}-${t.toString().length==1?"0"+t:t}`)return e("div",{className:"flex flex-col gap-2 items-center justify-center text-center p-1 absolute left-0 right-0 top-8",children:e("h1",{className:r.contact_method=="Discord"?"bg-blurple-500 text-sm text-gray-500 p-1 text-center":"bg-pastelgreen-500 text-sm text-gray-500 p-1",children:r.nookazon_username?y(r.appointment_time,"HH:mm:ss").format("HH:mm")+" "+r.nookazon_username:y(r.appointment_time,"HH:mm:ss").format("HH:mm")+" "+r.discord_username})},u)})]},i))}),e(h,{appear:!0,show:O,as:c.Fragment,children:e(g,{as:"div",className:"fixed inset-0 z-10 overflow-y-auto",onClose:p,children:n("div",{className:"min-h-screen px-4 text-center bg-gray-500 bg-opacity-60",children:[e(h.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e(g.Overlay,{className:"fixed inset-0"})}),e("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"‚Äã"}),e(h.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:n("div",{className:" inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-gray-300 shadow-xl rounded-2xl",children:[e(g.Title,{as:"h3",className:"text-xl font-bold leading-6 text-sapin-500 text-center p-2",children:"Create an appointment"}),e("div",{className:"mt-2",children:n("form",{onSubmit:oe,children:[n("div",{className:"mb-6",children:[e("label",{htmlFor:"username",className:"block mb-2 text-base font-semibold text-sapin-500",children:"Nookazon Username"}),e("input",{type:"text",id:"username",className:"bg-gray-50 border border-gray-300 text-gray-500 text-sm rounded-lg focus:ring-sapin-500 focus:border-sapin-500 block w-full p-2.50y-600r-gray-400-blue-500er-blue-500",placeholder:"Username",name:"nookazon_username"})]}),n("div",{className:"mb-6",children:[e("label",{htmlFor:"username",className:"block mb-2 text-base font-semibold text-sapin-500",children:"Discord Username"}),e("input",{type:"text",id:"username",className:"bg-gray-50 border border-gray-300 text-gray-500 text-sm rounded-lg focus:ring-sapin-500 focus:border-sapin-500 block w-full p-2.50y-600r-gray-400-blue-500er-blue-500",placeholder:"Username",name:"discord_username"})]}),n("div",{className:"mb-6",children:[e("label",{for:"email",className:"block mb-2 text-base font-semibold text-sapin-500",children:"email (optional)"}),e("input",{type:"email",id:"email",className:"bg-gray-50 border border-gray-300 text-gray-500 text-sm rounded-lg focus:ring-sapin-500 focus:border-sapin-500 block w-full p-2.50y-600r-gray-400-blue-500er-blue-500",placeholder:"email",name:"appointment_email"})]}),e("p",{className:"block mb-1 text-base font-semibold text-sapin-500",children:"Time for the exchange"}),e("div",{className:"flex flex-row justify-between",children:n("div",{className:"mb-6 w-full mr-2",children:[e("label",{htmlFor:"time",className:"block mb-2 text-base font-semibold text-gray-500"}),e("input",{type:"time",id:"time",min:"13:00",max:"21:30",className:"bg-gray-50 border border-gray-300 text-gray-500 text-sm rounded-lg focus:ring-sapin-500 focus:border-sapin-500 block w-full p-2.50y-600r-gray-400-blue-500er-blue-500",placeholder:"",required:!0,name:"appointment_time"})]})}),n("div",{className:"mb-6",children:[e("p",{className:"block mb-2 text-base font-semibold text-sapin-500",children:"Preferred way to be contacted"}),n("div",{className:"flex flex-col",children:[n("div",{children:[e("input",{type:"radio",id:"discord",value:"Discord",name:"contact_method",className:"hover:bg-lightgreen-500"}),e("label",{htmlFor:"discord",className:"pl-2 text-gray-500",children:"Discord"})]}),n("div",{children:[e("input",{type:"radio",id:"website",value:"Website",name:"contact_method",className:"hover:bg-lightgreen-500"}),e("label",{htmlFor:"website",className:"pl-2 text-gray-500",children:"Website"})]})]})]}),e("button",{type:"submit",className:"text-white bg-lightgreen-500 hover:bg-lightgreen-500 hover:text-sapin-500 focus:ring-4 focus:outline-none font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center0lue-700-blue-800",children:"Submit"})]})})]})})]})})}),e(h,{appear:!0,show:P,as:c.Fragment,children:e(g,{as:"div",className:"fixed inset-0 z-10 overflow-y-auto",onClose:w,children:n("div",{className:"min-h-screen px-4 text-center bg-gray-500 bg-opacity-60",children:[e(h.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e(g.Overlay,{className:"fixed inset-0"})}),e("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"‚Äã"}),e(h.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e("div",{className:" inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl",children:n("div",{className:"mt-2",children:[e(ce,{autoClose:1e3,position:"top-center"}),n("form",{onSubmit:re,children:[e("div",{className:"mb-6",children:e("input",{type:"text",id:"giveaway-title",className:"text-xl border-white w-full font-bold leading-6 text-sapin-500 text-center p-2",defaultValue:s.title?s.title:"Giveaway Title",name:"giveaway_title"})}),n("div",{className:"mb-6",children:[e("label",{htmlFor:"giveaway_img_link",className:"block mb-2 text-base font-semibold text-sapin-500 bg-white",children:"Image Link"}),e("input",{type:"text",id:"giveaway_img_link",className:"bg-gray-50 border border-gray-300 text-gray-500 text-sm rounded-lg focus:ring-sapin-500 focus:border-sapin-500 block w-full p-2.50y-600r-gray-400-blue-500er-blue-500",placeholder:"Image link...",name:"giveaway_img_link",defaultValue:s.imglink})]}),n("div",{className:"mb-6",children:[e("label",{htmlFor:"giveaway_description",className:"block mb-2 text-base font-semibold text-sapin-500",children:"Giveaway Description"}),e("textarea",{id:"giveaway_description",className:"bg-gray-50 border border-gray-300 text-gray-500 text-sm rounded-lg focus:ring-sapin-500 focus:border-sapin-500 block w-full p-2.50y-600r-gray-400-blue-500er-blue-500",placeholder:"Giveaway description...",name:"giveaway_description",defaultValue:s.description})]}),n("div",{className:"mb-6 text-center",children:[e("h4",{className:"block mb-2 text-base font-semibold text-sapin-500",children:"Shoutout"}),e("p",{className:"whitespace-pre overflow-hidden cursor-pointer",onClick:q,children:s.formatted_shoutout})]}),e("div",{className:"mb-6",children:n("table",{children:[n("tr",{children:[e("th",{className:"w-[50%] mb-2 text-base font-semibold text-center text-sapin-500",children:"Items"}),e("th",{className:"w-[50%] mb-2 text-base font-semibold text-center text-sapin-500",children:"NMT/Bells"})]}),n("tr",{children:[e("td",{className:"text-center cursor-pointer",onClick:E,children:s.items}),e("td",{className:"text-center cursor-pointer",onClick:J,children:s.currencies})]})]})}),n("div",{className:"mb-6",children:[e("label",{htmlFor:"giveaway_scheduled_date",className:"block mb-2 text-base font-semibold text-sapin-500",children:"Scheduled Date"}),e("input",{type:"date",id:"giveaway_scheduled_date",className:"text-center bg-gray-50 border border-gray-300 text-gray-500 text-sm rounded-lg focus:ring-sapin-500 focus:border-sapin-500 block w-full p-2.50y-600r-gray-400-blue-500er-blue-500",name:"giveaway_scheduled_date",defaultValue:s.scheduled_date,required:!0})]}),n("div",{className:"mb-6",children:[e("label",{htmlFor:"giveaway_status",className:"block mb-2 text-base font-semibold text-sapin-500",children:"Giveaway Status"}),n("div",{className:"flex flex-row",children:[n("select",{id:"giveaway_status",className:"text-center bg-gray-50 border border-gray-300 text-gray-500 text-sm rounded-lg focus:ring-sapin-500 focus:border-sapin-500 block w-[15em] p-2.50y-600r-gray-400-blue-500er-blue-500 py-1 ml-[-2px]",name:"giveaway_status",defaultValue:s.status==="Queued for Programs"||s.status==="Queued for Discord"||s.status==="Queued for Website"?"Scheduled":s.status,required:!0,children:[e("option",{disabled:!0,children:"Scheduled"}),e("option",{children:"Giveaway Live"}),e("option",{children:"Winner Contacted"}),e("option",{children:"Completed"})]}),e("button",{type:"submit",className:"ml-6 text-sapin-500 underline text-sm",children:"Change"})]})]}),e("button",{type:"submit",className:"text-white bg-lightgreen-500 hover:bg-lightgreen-500 hover:text-sapin-500 focus:ring-4 focus:outline-none font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center0lue-700-blue-800",children:"Submit"}),e("span",{className:k(s.status)?" text-white bg-lightgreen-500 hover:bg-lightgreen-500 hover:text-sapin-500 focus:ring-4 focus:outline-none font-medium rounded-lg text-sm w-24 px-5 py-2.5 text-center0lue-700-blue-800 ml-4 cursor-pointer":"hidden",onClick:R,children:"Discord Message"}),e("p",{children:k(s.status)})]})]})})})]})})})]})},I=be;function Fe(l){function x(){return l.auth.user!=null?e(de,{href:"donations-nodate",children:e(ge,{children:"No Date!"})}):""}return n(le,{children:[e(ie,{title:"Calendar"}),n("div",{className:"mx-20 bg-gray-100",children:[e(me,{auth:l.auth}),n("div",{className:"max-md:hidden",children:[e(I,{auth:l.auth,appointments:l.appointments,donations:l.donations}),e("hr",{}),e(I,{auth:l.auth,appointments:l.appointments,donations:l.donations,isNext:1})]}),n("div",{className:"mb-6",children:[x(),e(he,{})]})]})]})}export{Fe as default};
