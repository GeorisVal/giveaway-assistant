import{R as n,j as v,a as t,b as c}from"./app-2da2c943.js";import{h as w}from"./moment-fbc5633a.js";import{Q as V}from"./react-toastify.esm-75ce849f.js";const M=e=>{const u=a=>V("Copied "+a+" to clipboard"),[o,m]=n.useState({status:e.status}),[r,h]=n.useState({currencies:e.currencies}),[y,s]=n.useState(!1),[f,D]=n.useState({note:e.notes}),[i,b]=n.useState({items:e.items}),[k,d]=n.useState(!1),[g,S]=n.useState(0),I=()=>{switch(e.shoutout){case"Yes - Shout out my Nookazon account":return"Yes - Nookazon";case"Yes - Shout out my Discord account":return"Yes - Discord";case"No - I would like to remain anonymous":return"No";default:return"Something went wrong"}},Y=()=>{switch(o.status){case"Pending pick up":return"bg-cream-550 border-[#f9fafb]";case"Did Not Respond":return"bg-red-575 border-[#f9fafb]";case"Queued for Programs":return"bg-purple-550 border-[#f9fafb]";case"Queued for Website":return"bg-lightgreen-550 border-[#f9fafb]";case"Queued for Discord":return"bg-discord-550 border-[#f9fafb]";case"Donator Contacted":return"bg-yellow-550 border-[#f9fafb]";case"Items Collected":return"bg-orange-550 border-[#f9fafb]";case"Invalid":return"bg-red-575 border-[#f9fafb]";case"Cancelled":return"bg-red-575 border-[#f9fafb]";case"Completed":return"bg-gris-550 border-[#f9fafb]";default:return"bg-white border-[#f9fafb]"}},E=w(new Date).format("YYYY-MM-DD"),x=a=>{a.preventDefault(),d(!1),b({items:i}),c.put("/api/donations/"+e.id,{items:i})},C=a=>{s(!1),a.preventDefault(),h({currencies:r}),c.put("/api/donations/"+e.id,{currencies:r})},_=a=>{m({...o,[a.target.name]:a.target.value}),c.put("/api/donations/"+e.id,{status:a.target.value}).then(l=>{})},N=a=>{a.preventDefault(),c.put("/api/donations/"+e.id,{notes:f}).then(l=>{console.log(l)})};async function z(){await navigator.clipboard.writeText(e.discord_id),await u(e.discord_username+"'s ID ")}async function P(a){e.canEdit&&(a.shiftKey?d(!0):(await navigator.clipboard.writeText(e.items),await u('"'+e.items+'"')))}async function Q(a){e.canEdit&&(a.shiftKey?s(!0):(await navigator.clipboard.writeText(e.currencies),await u('"'+e.currencies+'"')))}const R=a=>{m({...o,[a.target.name]:a.target.value}),c.put("/api/donations/"+e.id,{schedule_date:a.target.value}).then(l=>{console.log(l)})};return v("tr",{className:g?"bg-[#fffbab] border-b leading-tight":"bg-white border-b leading-tight",children:[t("td",{className:"pl-6 sticky z-10 bg-white left-0",children:t("input",{type:"checkbox",tabIndex:"-1",id:"checkbox"+e.id,onChange:a=>S(!g),disabled:!e.canEdit})}),t("td",{className:"pr-6 truncate z-10 bg-white sticky left-[3rem] ...",children:w(e.timestamp).format("DD-MM-YYYY")}),t("td",{className:"sticky z-10 left-[9.5rem]",children:t("form",{id:"form"+e.id,children:v("select",{name:"status",tabIndex:"-1",id:"status"+e.id,value:o.status,defaultValue:e.status,className:Y()+" py-1 ml-[-2px] truncate ...",onChange:_,disabled:!e.canEdit,children:[t("option",{value:"Invalid",children:"Invalid"}),t("option",{value:"Did Not Respond",children:"DNR"}),t("option",{value:"Donator Contacted",children:"Contacted"}),t("option",{value:"Pending pick up",children:"Pending Pickup"}),t("option",{value:"Items Collected",children:"Collected"}),t("option",{value:"Queued for Website",children:"Scheduled Web"}),t("option",{value:"Queued for Discord",children:"Scheduled Discord"}),t("option",{value:"Queued for Programs",children:"Scheduled Programs"}),t("option",{value:"Completed",children:"Completed"}),t("option",{value:"Cancelled",children:"Cancelled"}),t("option",{value:""})]})})}),t("td",{className:"pl-6 truncate ...",children:t("form",{id:"note"+e.id,onSubmit:e.notes===f.note?()=>console.log("If you see this, you are too curious."):N,className:"flex flex-row",children:t("input",{type:"text",defaultValue:e.notes,className:"leading-3 p-1 border-[#f9fafb]",onChange:a=>D(a.target.value),onBlur:e.notes===f.note?()=>console.log("If you see this, you are too curious."):N,disabled:!e.canEdit})})}),t("td",{className:"px-6 truncate ...",children:e.platform=="Nookazon Programs (i.e. Streams, Contests, etc.)"?"Nookazon Programs":e.platform}),t("td",{className:"px-6 text-center truncate ...",children:I()}),t("td",{className:"px-6 truncate ...",children:e.contact_method}),t("td",{className:"px-6 truncate max-w-[215px] hover:max-w-[5000px] ...",children:e.discord_username}),t("td",{className:"px-6 truncate max-w-[215px] hover:max-w-[5000px] hover:cursor-pointer ...",onClick:z,children:e.discord_id}),t("td",{className:"px-6 truncate ...",children:t("a",{href:e.nookazon_link,tabIndex:"-1",children:e.nookazon_username})}),t("td",{className:"px-6 max-w-[250px] hover:max-w-[5000px] truncate ...",children:t("form",{id:"currencies"+e.id,onSubmit:e.currencies===r.currencies?()=>s(!1):C,className:"flex flex-row",children:y?t("input",{type:"text",autoFocus:!0,defaultValue:r.currencies,className:"leading-3 p-1 border-[#f9fafb]",onChange:a=>h(a.target.value),onBlur:e.currencies===r.currencies?()=>s(!1):C}):t("p",{className:e.canEdit?"cursor-pointer":"cursor-text",onClick:Q,children:r.currencies})})}),t("td",{className:"px-6 max-w-[250px] hover:max-w-[5000px] truncate ...",children:t("form",{id:"items"+e.id,onSubmit:e.items===i.items?()=>d(!1):x,className:"flex flex-row",children:k?t("input",{type:"text",autoFocus:!0,defaultValue:i.items,className:"leading-3 p-1 border-[#f9fafb] w-auto",onChange:a=>b(a.target.value),onBlur:e.items===i.items?()=>d(!1):x}):t("p",{className:e.canEdit?"cursor-pointer":"cursor-text",onClick:P,children:i.items})})}),t("td",{className:"px-6 truncate ...",children:t("input",{type:"date",min:E,tabIndex:"-1",className:e.schedule_date?"border-[#f9fafb] py-1":"text-red-500 border-[#FED3CD] py-1",defaultValue:e.schedule_date,onChange:R,disabled:!e.canEdit})})]})},T=M;export{T as D};
